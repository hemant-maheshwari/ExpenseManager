<body>
  <div id="register">
    <img class="center-image" src="assets/images/LoginIcon.png" alt="Expense Manager Logo">
    <div class="container">
      <div id="register-row" class="row justify-content-center align-items-center">
        <div id="register-column" class="col-md-6">
          <div id="register-box" class="shadow-lg rounded">
            <form id="register-form" [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="form" oninput='confirmPassword.setCustomValidity(confirmPassword.value != password.value ? "Passwords do not match." : "")'>
              <div class="form-group">
                <div class="row">
                  <div class="col-sm-6">
                    <label for="firstname" class="primary-color-blue-text"> First Name</label>
                    <input formControlName="firstName" type="text" name="firstname" id="firstname" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.firstName.errors }" required>
                    <div *ngIf="submitted && f.firstName.errors" class="invalid-feedback">
                      <div *ngIf="f.firstName.errors.required">First Name is required</div>
                    </div>
                  </div>
                  <div class="col-sm-6">
                    <label for="lastname" class="primary-color-blue-text"> Last Name</label>
                    <input formControlName="lastName" type="text" name="lastname" id="lastName" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.lastName.errors }" required>
                    <div *ngIf="submitted && f.lastName.errors" class="invalid-feedback">
                      <div *ngIf="f.lastName.errors.required">Last Name is required</div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="form-group">
                <div class="row">
                  <div class="col-sm-6">
                    <label for="email" class="primary-color-blue-text"> Email</label>
                    <input formControlName="email" type="text" name="email" id="email" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.email.errors }" placeholder="example@email.com" required>
                    <div *ngIf="submitted && f.email.errors" class="invalid-feedback">
                      <div *ngIf="f.email.errors.required">Enter a valid email</div>
                    </div>
                  </div>
                  <div class="col-sm-6">
                    <label for="phone" class="primary-color-blue-text"> Phone Number </label>
                    <input formControlName="phoneNumber" type="tel" id="phone" name="phone" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.phoneNumber.errors }" placeholder="999999999" required>
                    <div *ngIf="submitted && f.phoneNumber.errors" class="invalid-feedback">
                      <div *ngIf="f.email.errors.required">Enter a valid 10 digit phone number</div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="form-group">
                <div class="row">
                  <div class="col-sm-12">
                    <label for="username" class="primary-color-blue-text"> Username</label>
                    <input formControlName="username" type="text" name="username" id="username" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.username.errors }" required>
                    <div *ngIf="submitted && f.username.errors" class="invalid-feedback">
                      <div *ngIf="f.username.errors.required">Username is required</div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="form-group">
                <label for="password" class="primary-color-blue-text">Password </label>
                <input formControlName="password" type="password" name="password" id="password" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.password.errors }" required>
                <div *ngIf="submitted && f.password.errors" class="invalid-feedback">
                  <div *ngIf="f.password.errors.required">Password must be at least 6 characters long</div>
                </div>
              </div>
              <div class="form-group">
                <label for="confirmPassword" class="primary-color-blue-text"> Confirm Password </label>
                <input formControlName="confirmPassword" type="password" name="confirmPassword" id="confirmPassword" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.confirmPassword.errors }" required>
                <div *ngIf="submitted && f.confirmPassword.errors" class="invalid-feedback">
                  <div *ngIf="f.confirmPassword.errors.required">Must match password</div>
                </div>
              </div>
              <div class="col text-center">
                <button [disabled]="loading" type="submit" class="btn primary-color-blue-background text-white col-sm-10 mt-3">
                  <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
                  Register
                </button>
                <br><br>
                <div class="text-center">
                  <label>Already have an account?</label><a routerLink="/" class="text-center text-info"> Back to Login</a>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>
